# react-router를 통한 리액트 싱글 페이지 App 만들기

## SPA 란?

Single Page Application 의 약자

단일 페이지로 구성된 웹 어플리케이션을 말한다. SPA 는 화면 이동시에 필요한 데이터를 서버사이드에서 HTML로 전달받지 않고, 필요한 데이터만 서버로부터 JSON으로 전달 받아 동적으로 렌더링한다.

기존 어플리케이션은 화면 이동 시 화면 이동에 필요한 HTML을 서버사이드에서 받아서 처음부터 다시 로딩하기 때문에 시간이 걸린다.

반면 SPA는 화면 구성에 필요한 모든 HTML을 클라이언트가 갖고 있고 서버사이드에서는 필요한 데이터를 요청하고 JSON으로 받기 때문에 기존의 어플리케이션에 비해 화면을 구성하는 속도가 빠르다.

<b>장점</b>

1. 하나하나 화면 전체를 렌더링할 필요가 없기 때문에 화면이동이 빠르다
2. 화면에 필요한 부분의 데이터만 받아서 렌더링하기 때문에 처리과정이 효율적이다.
3. 유저에 입장에서 사용하기 편리하다

<b>단점</b>

1. 처음 화면을 로딩할 때 모든 화면이 미리 준비되어 있어야 하기 때문에 로딩에 시간이 걸린다.
2. 어플리케이션을 구현하는데 보다 시간이 걸리며 복잡하다.

전통적인 웹어플리케이션 구조는 여러 페이지로 구성되어 있다.
유저가 요청할 때 마다 페이지가 새로고침되며, 페이지를 로딩할 때마다 서버로부터 리소스를 전달받아 해석 후에 렌더링한다.

HTML 파일 혹은 템플렛 엔진 등을 사용해서 어플리케이션의 뷰가 어떻게 보여질지도 서버에서 담당했다.

렌더링하는 것을 서버쪽에서 담당하는 것은 그 만큼 렌더링을 위한 서버 자원이 사용되는 것이고, 불필요한 트래픽도 낭비될 수 있다.

그래서 리액트 같은 라이브러리 혹은 프레임워크를 사용해서 뷰 렌더링을 유저의 브라우저가 담당하도록 하고, 우선 어플리케이션을 브라우저에 로드 한 다음에 정말 필요한 데이터만 전달받아 보여준다.

싱글페이지라고 해서 한 종류의 화면만 있는 것이 아니다.
예를들어 블로그를 만든다면, 홈, 포스트 목록, 포스트, 글쓰기 등의 화면이 있을 것이다.
또한 이 화면에 따라 주소도 만들어 줘야 한다.
다른 주소에 따라 다른 뷰를 보여주는 것을 라우팅이라고 하는데, 리액트 자체에는 이 기능이 내장되어 있지 않다. 따라서 우리가 직접 브라우저의 API 를 사용하고 상태를 설정하여 다른 뷰를 보여주어야 한다.

React-router는 써드파티 라이브러리로, (페이스북 공식 라우팅 라이브러리는 존재하지 않는다) 가장 많이 사용되고 있는 라이브러리이다. 이 라이브러리는 클라이언트 사이드에서 이뤄지는 라우팅을 간단하게 해준다. 게다가 서버 사이드 렌도린도 도와주는 도구들이 있다.

추가적으로 이 라우터는 react-native에서도 사용될 수 있다.

만약 여러 화면으로 구성된 웹 어플리케이션을 만들게 된다면 react-router는 필수 라이브러이이다.

SPA의 단점은 앱의 규모가 커지면 자바스크립트 파일 사이즈가 너무 커진다는 것이다. 유저가 실제로 방문하지 않ㅇ르 수도 있는 페이지에 관련된 렌더링 관련 스크립트도 불러오기 때문이다.

하지만, Code Splitting 을 사용하면 라우트 별로 파일들을 나눠서 트래픽과 로딩속도를 개선할 수 있다.

리액트 라우터같이 브라우저 측에서 자바스크립트를 사용하여 라우트는 관리하는 것의 잠재적인 단점은, 자바스크립트를 실행하지 않는 일반 크롤러에선 페이지의 정보를 제대로 받아가지 못하는다는 점이다. 때문에 구글, 네이버, 다음 등 검색엔진에서 페이지가 검색결과에서 잘 안나타날 수도 있다.

추가적으로, 자바스크립트 파일이 아직 캐싱되지 않는 사용자는 아주 짧은 시작동안 흰 페이지가 나타날 수도 있다는 단점도 있다. 이는 서버사이드 렌더링을 통해 해결할 수 있다.
#react

---

<b>참고</b>
[velog.io/@josworks27](https://velog.io/@josworks27/SPA-%EA%B0%9C%EB%85%90)
[react.vlpt.us](https://react.vlpt.us/react-router/)
