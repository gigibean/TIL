# 호이스팅
`let`, `const` 라는 변수가 ES6에서 나왔습니다. 기존에는 `var`를 사용하였습니다.     
`let`은 선언하기 전에는 존재하지 않습니다. 전에는 존재하지 않는 변수를선언할 때 사용합니다.
`var`도 스코프 안에서 선언되어 있다면 해당 스코프 안에서 언제든지 사용할 수 있고, 반면에 선언하기 전에도 사용할 수 있습니다.

`let`은 선언하기 전에 존재 하지않아야 합니다.
`var`은 해당변수를 선언하기 전에 변수를 사용할 수 있습니다.

```
y;
let y = 100;
```

원래 `y`는 레퍼런스 에러가 납니다. 그래서 이 문장을 수행할 수 없게 됩니다.      
result

```
Uncaught ReferenceError: y is not defined
```

<br/>

```
y;
var y = 100;
y;
```

`var`은 아직 선언되지 않은 `y`를 선언하기도 전에 첫번째 줄을 실행할 수 있습니다.        
result

```
100
```

변수를 선언하지않았는데 `y`를 사용하고 있는 것입니다. 선언하지 않았지만 사용할 수 있게 되는 것입니다. 이처럼 `var`로 선언한 변수를 맨위로 끌어 올립니다. 그리고 `끌어올린다`라는 의미에서 이를 `호이스팅(hoisting)` 이라고 합니다. 끌어올린다라는 의미가 할당되는 것은 아니고 `var y;` 즉, `var`로 선언된 것만 끌어 올린다는 의미 입니다. 실제로 할당하는 것은 끌어 올리지 않습니다.        
실제로는 

```
var y;
y;
y = 100;
y;
```

이렇게 되어 있는 것입니다.

```
if(x !== 10) {
    console.log(y); //undefined
    var y = 40;
    if( y === 40) {
        var x = 10;
    }
    console.log(y); //40
}
if(x === 10) {
    console.log(y); //40
}
```

result

```
undefined
40
40
```

사실 2번째 줄에서 에러가 나야하지만 `var y`는 호이스팅 때문에 맨위로 올라가 있습니다.
`x`가 원래를 비교할 수 없는 상태이지만 호이스팅 때문에 맨위로 올라가 있기 때문에 에러가 나오지 않습니다.

```
var x = 10;
if (x === 10) {
    var x = 20;
    console.log(x);
}
console.log(x);
```

result

```
20
20
```

전역에서 함수를 선언했어도 `var`은 여러 군데에서 똑같이 변수를 사용할 수 있고 전역변수와 블럭 내에 있는 변수가 똑같이 사용될 수 있습니다. 그래서 마지막 값도 `20`으로 찍힙니다. 중간에도 똑같은 변수이름으로 `var`를 이용하여 중복선언할 수 있습니다.   
그래서 `var`는 혼란을 가중시키지만 게속 사용하는 이유는 이미 사용하고 있는 코드 때문입니다. 그래서 최근에는 'let'과 'const'를 사용해주는 게 좋습니다.

함수 호이스팅
```
f7();
function f7() {
    console.log("f7 함수");
}
```
result
```
f7 함수
```
하지만 변수로 함수를 받는 경우에는 위와 같이 호이스팅이 되지 안습니다.

```
f8();
let f8() = function() {
    console.log('f8함수');
}
```
result
```
Uncaught ReferenceError: Cannot access 'f8' before initialization
```

`var`라는 키워드는 중복을 허용했기때문에 그 변수가 존재하는지 아닌지에 대해 물어보는 코드를 많이 작성했었습니다.

```
if (typeof x === 'undefined') { //x가 선언만되고 초기화 되지 않았을 때, 선언이 되지 않았을 때를 확인하는 과정
    console.log("x doesn't exist or is undefined");
}
else {
    ...
}
```
ES6가 나오지 않았을 때는 이러한 코드를 많이 사용했습니다. 하지만 지금은 `let`을 이용하기 때문에 기존에 존재하지 않는 변수를 선언하는 것이기 때문에 위와 같은 코드가 불필요해졌습니다.   
